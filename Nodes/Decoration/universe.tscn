[gd_scene load_steps=15 format=3 uid="uid://3mfe56kyxrm6"]

[ext_resource type="Texture2D" uid="uid://cpyydyvtqrp0n" path="res://Assets/Texture/Planet/Earth_Day.jpg" id="1_cj6pl"]
[ext_resource type="Shader" path="res://Assets/Shader/earth.gdshader" id="1_j6blg"]
[ext_resource type="Shader" path="res://Nodes/Decoration/earth_clouds.gdshader" id="1_t1a6y"]
[ext_resource type="Shader" path="res://Assets/Shader/atmosphere.gdshader" id="2_5m1m8"]
[ext_resource type="Texture2D" uid="uid://ndb0okhv70dk" path="res://Assets/Texture/Planet/Earth_Cloud.jpg" id="2_t3rkg"]
[ext_resource type="Texture2D" uid="uid://de545o2vmkro5" path="res://Assets/Texture/Planet/Earth_Night.jpg" id="3_3ve36"]
[ext_resource type="Texture2D" uid="uid://bcsc6nco55t4h" path="res://Assets/Texture/Planet/Earth_Norm.jpg" id="4_y34c8"]
[ext_resource type="Texture2D" uid="uid://fgdk2rx65xnw" path="res://Assets/Texture/Planet/Earth_Spec.jpg" id="5_hxq46"]

[sub_resource type="SphereMesh" id="SphereMesh_kk6i5"]
radius = 26.0
height = 52.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_kfoga"]
render_priority = 0
shader = ExtResource("1_t1a6y")
shader_parameter/thickness = 0.5
shader_parameter/speed = 0.005
shader_parameter/cloud_map = ExtResource("2_t3rkg")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_lcmc0"]
render_priority = 0
next_pass = SubResource("ShaderMaterial_kfoga")
shader = ExtResource("1_j6blg")
shader_parameter/emission_strength = 1.0
shader_parameter/rotation_speed = 0.001
shader_parameter/albedo_day = ExtResource("1_cj6pl")
shader_parameter/albedo_night = ExtResource("3_3ve36")
shader_parameter/normal_map = ExtResource("4_y34c8")
shader_parameter/spec_map = ExtResource("5_hxq46")

[sub_resource type="BoxMesh" id="BoxMesh_tv4rj"]
flip_faces = true
size = Vector3(60, 60, 60)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ik10t"]
render_priority = 0
shader = ExtResource("2_5m1m8")
shader_parameter/light_intensity = Vector3(20, 20, 20)
shader_parameter/planet_radius = 26.0
shader_parameter/atmo_radius = 32.0
shader_parameter/beta_ray = Vector3(1, 2, 3)
shader_parameter/beta_mie = Vector3(1, 1, 1)
shader_parameter/beta_ambient = Vector3(0, 0, 0)
shader_parameter/beta_e = 0.0
shader_parameter/g = 0.8
shader_parameter/height_ray = 0.5
shader_parameter/height_mie = 0.25
shader_parameter/density_multiplier = 0.2
shader_parameter/steps_i = 16
shader_parameter/steps_l = 4

[sub_resource type="Environment" id="Environment_uwcci"]
background_mode = 1

[node name="Universe" type="Node3D"]

[node name="Earth" type="MeshInstance3D" parent="."]
mesh = SubResource("SphereMesh_kk6i5")
surface_material_override/0 = SubResource("ShaderMaterial_lcmc0")

[node name="Atmosphere" type="MeshInstance3D" parent="."]
mesh = SubResource("BoxMesh_tv4rj")
surface_material_override/0 = SubResource("ShaderMaterial_ik10t")

[node name="Sun" type="DirectionalLight3D" parent="Atmosphere"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_uwcci")
